<div class="payslip-container">
  <div class="payslip-header">
    <h2 class="section-title">Payslip Information</h2>
    <p class="section-subtitle">View your salary and payment details</p>
  </div>

  <!-- Filter Section -->
  <div class="filter-section">
    <div class="filter-card">
      <h3 class="filter-title">Select Period</h3>
      <div class="filter-controls">
        <div class="form-group">
          <label for="monthSelect">Month</label>
          <select 
            id="monthSelect"
            [(ngModel)]="selectedMonth" 
            (change)="onFilterChange()"
            class="filter-select">
            <option value="">Select Month</option>
            <option *ngFor="let month of availableMonths" [value]="month.value">
              {{ month.label }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="yearSelect">Year</label>
          <select 
            id="yearSelect"
            [(ngModel)]="selectedYear" 
            (change)="onFilterChange()"
            class="filter-select">
            <option value="">Select Year</option>
            <option *ngFor="let year of availableYears" [value]="year.value">
              {{ year.label }}
            </option>
          </select>
        </div>
        <div class="filter-info">
          <span class="selected-period">{{ getSelectedPeriod() }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading payslip data...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="errorMessage && !isLoading" class="error-container">
    <div class="error-icon">‚ö†Ô∏è</div>
    <p>{{ errorMessage }}</p>
    <button (click)="loadPayslipData()" class="retry-btn">Retry</button>
  </div>

  <!-- Payslip Content -->
  <div *ngIf="payslipData && !isLoading" class="payslip-content">
    <!-- Salary Summary -->
    <div class="summary-section">
      <h3 class="subsection-title">Salary Summary</h3>
      <div class="summary-cards">
        <div class="summary-card">
          <div class="summary-icon">üí∞</div>
          <div class="summary-content">
            <h4>Monthly Salary</h4>
            <div class="summary-value">{{ getCurrency() }} {{ formatAmount(getMonthlySalary()) }}</div>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">üìä</div>
          <div class="summary-content">
            <h4>Annual Salary</h4>
            <div class="summary-value">{{ getCurrency() }} {{ formatAmount(getAnnualSalary()) }}</div>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">‚ö°</div>
          <div class="summary-content">
            <h4>Capacity</h4>
            <div class="summary-value">{{ getCapacity() }}%</div>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">‚è∞</div>
          <div class="summary-content">
            <h4>Work Hours</h4>
            <div class="summary-value">{{ getWorkHours() }} hrs</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Employee Information -->
    <div class="employee-section">
      <h3 class="subsection-title">Employee Information</h3>
      <div class="info-grid">
        <div class="info-card">
          <div class="info-header">
            <div class="info-icon">üë§</div>
            <h4>Employee Details</h4>
          </div>
          <div class="info-content">
            <div class="info-item">
              <label>Employee ID</label>
              <span class="info-value">{{ getEmployeeId() }}</span>
            </div>
            <div class="info-item">
              <label>Cost Center</label>
              <span class="info-value">{{ getCostCenter() }}</span>
            </div>
            <div class="info-item">
              <label>Wage Type</label>
              <span class="info-value">{{ getWageType() }}</span>
            </div>
            <div class="info-item">
              <label>Effective Period</label>
              <span class="info-value">{{ getEffectivePeriod() }}</span>
            </div>
          </div>
        </div>

        <div class="info-card">
          <div class="info-header">
            <div class="info-icon">üè¶</div>
            <h4>Bank Information</h4>
          </div>
          <div class="info-content">
            <div class="info-item">
              <label>Bank Name</label>
              <span class="info-value">{{ payslipData.BANK_NAME }}</span>
            </div>
            <div class="info-item">
              <label>Bank Key</label>
              <span class="info-value">{{ payslipData.BANK_KEY }}</span>
            </div>
            <div class="info-item">
              <label>Account Number</label>
              <span class="info-value">{{ getAccountNumber() }}</span>
            </div>
            <div class="info-item">
              <label>Currency</label>
              <span class="info-value">{{ getCurrency() }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Pay Scale Information -->
    <div class="payscale-section">
      <h3 class="subsection-title">Pay Scale Information</h3>
      <div class="payscale-card">
        <div class="payscale-header">
          <div class="payscale-icon">üìã</div>
          <h4>Pay Scale Details</h4>
        </div>
        <div class="payscale-content">
          <div class="payscale-grid">
            <div class="payscale-item">
              <label>Pay Type</label>
              <span class="payscale-value">{{ payslipData.PAYTYPE || 'Not specified' }}</span>
            </div>
            <div class="payscale-item">
              <label>Pay Area</label>
              <span class="payscale-value">{{ payslipData.PAYAREA || 'Not specified' }}</span>
            </div>
            <div class="payscale-item">
              <label>Pay Group</label>
              <span class="payscale-value">{{ payslipData.PAYGROUP || 'Not specified' }}</span>
            </div>
            <div class="payscale-item">
              <label>Pay Level</label>
              <span class="payscale-value">{{ payslipData.PAYLEVEL || 'Not specified' }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Salary Breakdown -->
    <div class="salary-breakdown-section">
      <h3 class="subsection-title">Salary Breakdown</h3>
      <div class="breakdown-card">
        <div class="breakdown-header">
          <div class="breakdown-icon">üíµ</div>
          <h4>Monthly Salary Details</h4>
        </div>
        <div class="breakdown-content">
          <div class="breakdown-item">
            <div class="breakdown-label">Basic Salary</div>
            <div class="breakdown-value">{{ getCurrency() }} {{ formatAmount(getMonthlySalary()) }}</div>
          </div>
          <div class="breakdown-item total">
            <div class="breakdown-label">Total Monthly Salary</div>
            <div class="breakdown-value">{{ getCurrency() }} {{ formatAmount(getMonthlySalary()) }}</div>
          </div>
          <div class="breakdown-item annual">
            <div class="breakdown-label">Annual Salary</div>
            <div class="breakdown-value">{{ getCurrency() }} {{ formatAmount(getAnnualSalary()) }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Additional Information -->
    <div class="additional-section">
      <h3 class="subsection-title">Additional Information</h3>
      <div class="additional-grid">
        <div class="additional-card">
          <div class="additional-icon">üìà</div>
          <div class="additional-content">
            <h4>Capacity Utilization</h4>
            <div class="additional-value">{{ getCapacity() }}%</div>
            <p class="additional-description">Your current work capacity percentage</p>
          </div>
        </div>
        <div class="additional-card">
          <div class="additional-icon">‚è±Ô∏è</div>
          <div class="additional-content">
            <h4>Working Hours</h4>
            <div class="additional-value">{{ getWorkHours() }} hours</div>
            <p class="additional-description">Standard working hours per period</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 